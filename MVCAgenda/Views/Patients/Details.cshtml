@model MVCAgenda.Models.Patients.PatientViewModel

@{
	var pageTitle = "Detalii pacient";

	ViewData["Title"] = pageTitle;
}

<nav aria-label="breadcrumb" class="navigation">
	<ol class="breadcrumb">
		<li class="breadcrumb-item">
			<a asp-action="Index" asp-controller="Home">
				<i class="fas fa-home"></i>
				<span>Acasa</span>
			</a>
		</li>
		<li class="breadcrumb-item">
			<a asp-action="Index" asp-controller="Patients">
				<i class="fas fa-user-friends"></i>
				<span>Pacienți</span>
			</a>
		</li>
		<li class="breadcrumb-item active">
			<span>@pageTitle</span>
		</li>
	</ol>
</nav>

<div class="section">
	<header>
		<strong class="title">
			<i class="fas fa-hospital-user"></i>
			@pageTitle
		</strong>
		<div class="actions">
			<a asp-action="Details" asp-controller="PatientSheets" asp-route-Id="@Model.Id" class="btn btn-outline-primary">
				<i class="fas fa-file-medical-alt"></i>
				Fișă medicală
			</a>
			<a asp-action="Index" asp-controller="Appointments" asp-route-Id="@Model.Id" class="btn btn-outline-primary">
				<i class="far fa-calendar-check"></i>
				Programarile pacientului
			</a>
			<div class="vr-left">
				<form asp-action="Delete" asp-route-id="@Model.Id">
					<button type="submit" class="btn btn-outline-primary" id="DeletePatient">
						<i class="far fa-trash-alt"></i>
						Sterge
					</button>
				</form>
				<a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">
					<i class="far fa-edit"></i>
					Modifica
				</a>
			</div>
		</div>
	</header>
	<div class="content">
		<div class="data">
			<div class="input-group mb-3">
				<span class="input-group-text" id="basic-addon">@Html.DisplayNameFor(model => model.FirstName)</span>
				<input asp-for="FirstName" type="text" class="form-control" aria-label="@Html.DisplayNameFor(model => model.FirstName)" aria-describedby="basic-addon" readonly>
			</div>
			<div class="input-group mb-3">
				<span class="input-group-text" id="basic-addon1">@Html.DisplayNameFor(model => model.LastName)</span>
				<input asp-for="LastName" type="text" class="form-control" aria-label="@Html.DisplayNameFor(model => model.LastName)" aria-describedby="basic-addon1" readonly>
			</div>
			<div class="input-group mb-3">
				<span class="input-group-text" id="basic-addon2">@Html.DisplayNameFor(model => model.PhoneNumber)</span>
				<input asp-for="PhoneNumber" type="text" class="form-control" aria-label="@Html.DisplayNameFor(model => model.PhoneNumber)" aria-describedby="basic-addon2" readonly>
			</div>
			<div class="input-group mb-3">
				<span class="input-group-text" id="basic-addon3">@Html.DisplayNameFor(model => model.Mail)</span>
				<input asp-for="Mail" type="text" class="form-control" aria-label="@Html.DisplayNameFor(model => model.Mail)" aria-describedby="basic-addon3" readonly>
			</div>
			<div class="input-group mb-3">
				<span class="input-group-text" id="basic-addon4">@Html.DisplayNameFor(model => model.BlacklistText)</span>
				<label asp-for="BlacklistText" class="form-control" aria-describedby="basic-addon4">@Html.Raw(Model.BlacklistText)</label>
			</div>
		</div>
	</div>
</div>

@section Scripts
{
	<script>
		$(function (){
			$('#DeletePatient').click(function(e){
				e.preventDefault();

				if(window.confirm('Sunteți sigur că doriți să ștergeți acest pacient?'))
					$(this).parent('form').submit();
			});
		});
	</script>
}